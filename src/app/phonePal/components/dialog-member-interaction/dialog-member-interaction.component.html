<div class="togethernessapptheme">
    <div class="loading-shade" *ngIf="isLoadingResults">
        <mat-spinner color="accent" *ngIf="isLoadingResults"></mat-spinner>
    </div>
</div>
<span [class]="theme">
    <!-- Main Toolbar of an App -->
    <mat-toolbar color="accent">
        <span *ngIf="data.isreadOnly === true">
            Member Interaction Details
        </span>
        <span *ngIf="data.isreadOnly === false">
            Record member interaction
        </span>
        <span class="demo-toolbar"><span (click)="close()">x</span></span>
    </mat-toolbar>

    <mat-card class="member-interaction-card" color="accent">
        <form [formGroup]="interactionForm" novalidate (ngSubmit)="onFormSubmit()">
            <mat-card-content>
                <!--
                <div *ngIf="data.isreadOnly === 'true'">
                    {{ data.textContent }}
                </div>
                <div *ngIf="data.isreadOnly === 'false'">
-->
                <div class="row">
                    <div class="col-lg-12">
                        <div class="card margin-r-0">
                            <div class="card-body">
                                <div class="row">
                                    <!-- Call Details -->
                                    <span class="call-details">
                                        <div class="col-lg-4">
                                            <div class="form-group">
                                                <label class="bmd-label-floating">Call Duration</label>
                                                <div class="input-group timepicker">
                                                    <mat-form-field>
                                                        <input [readonly]="data.isreadOnly" [textMask]="mask" matInput
                                                            placeholder="hh:mm" formControlName="callDuration">
                                                        <i class="glyphicon glyphicon-time"></i>
                                                        <mat-error>{{errors.callDuration}}</mat-error>
                                                    </mat-form-field>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-4">
                                            <div class="form-group">
                                                <label class="bmd-label-floating">Call Status</label>
                                                <div class="form-group form-select">
                                                    <mat-form-field>
                                                        <mat-select [disabled]="data.isreadOnly" placeholder=""
                                                            formControlName="callStatus" class="form-control no-border">
                                                            <mat-option *ngFor="let cboData of arrayCallOutcome"
                                                                [value]="cboData.value">
                                                                {{cboData.viewValue}}
                                                            </mat-option>
                                                        </mat-select>
                                                        <mat-error>{{errors.callStatus}}</mat-error>
                                                    </mat-form-field>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-4">
                                            <div class="form-group">
                                                <label class="bmd-label-floating">Next Scheduled Call Date</label>
                                                <div class="input-group">
                                                    <mat-form-field>
                                                        <input [min]="minDate" [readonly]="data.isreadOnly" [disabled]="data.isreadOnly"
                                                            matInput formControlName="nextCallDate" [matDatepicker]="picker">
                                                        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                                        <mat-datepicker #picker></mat-datepicker>
                                                    </mat-form-field>
                                                </div>
                                            </div>
                                        </div>
                                    </span>
                                    <!-- Call Details -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-lg-12">
                        <interaction-outcome [group]="interactionForm" [paramObject]=data.paramObject [isreadOnly]=data.isreadOnly></interaction-outcome>
                    </div>
                </div>
                <!--                </div> -->
            </mat-card-content>

            <mat-card-footer color="primary">
                <button type="reset" *ngIf="data.isreadOnly === true" class="btn-close" mat-raised-button (click)="close()">
                    Close
                </button>
                <button *ngIf="data.isreadOnly === false" color="accent" class="btn-phonepal-interaction"
                    mat-raised-button type="submit" [disabled]="interactionForm.invalid">
                    Submit
                </button>
            </mat-card-footer>
        </form>
    </mat-card>

</span>